<!DOCTYPE html><html class="dark"><head><meta charset="utf-8"><title>A new website!</title><link href="/favicon.png" rel="icon" type="image/png"><link href="/feed.xml" rel="alternate" type="application/atom+xml"><link href="https://mgsloan.com/posts/new-site" rel="canonical"><meta name="description" content="A brief introduction to my new site, and how it works."><meta name="author" content="Michael G Sloan"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="https://fonts.googleapis.com/css?family=Alegreya:700|Alegreya+Sans:400,400i,700|Alegreya+Sans+SC:400|Inconsolata:400,700|Playfair+Display:400,700" rel="stylesheet"><style>*{margin:0;padding:0}code,em,strong{line-height:1}html{font-size:16px;zoom:1.15;background-color:#234}body{background-color:#fffef8;padding-top:0.2em;color:#456;font-family:'Alegreya Sans',sans-serif;font-feature-settings:'liga','kern';line-height:1.6}#content,#teaser,#footer{padding:1.4em;margin-left:auto;margin-right:auto;max-width:36em}#content{padding-top:0;min-height:-moz-available;min-height:-webkit-fill-available;min-height:fill-available}header{font-family:'Playfair Display',sans;margin-left:1em;margin-right:1em;overflow:visible;text-align:center;margin-bottom:1.0em}h1{font-family:'Playfair Display',serif;color:#000;font-size:1.8em;line-height:3.8rem;margin-bottom:0.7rem;padding-top:2.8rem}header>h2{font-feature-settings:'dlig';font-size:1.4em;font-style:italic;font-weight:normal;line-height:1.4rem;margin-bottom:1.0rem;padding-top:0.4rem}header>p{padding-top:0.5em;padding-bottom:0.9em;margin-bottom:0}article>header>hr.hairline{margin-top:0.5em;transform:scale(1.3,0.5)}article hr.hairline{transform:scale(1.09,0.5)}hr.hairline{border:none;border-bottom:1px solid #c35;transform:scale(1,0.5)}.footnotes-divider{margin-top:3.4em;margin-bottom:2.4em}h1>br{display:none}p,nav{margin-bottom:1em;padding-top:0.4em}a{color:#c35;text-decoration:none}abbr,.smcp{font-family:"Alegreya Sans SC";letter-spacing:0.1em;display:inline-block}abbr{letter-spacing:0.03em;margin-right:-0.03em}.run-in{font-family:"Alegreya Sans SC";letter-spacing:0.05em}h2{font-family:Alegreya,serif;font-size:1.4em;line-height:1em;margin-bottom:0.2rem;padding-top:1.2rem}h2>a:before{content:'¶';width:1.2rem;margin-left:-1.2rem;display:inline-block;opacity:0;transition:opacity 0.2s ease-out;color:#b4aaaa}h2:hover>a:before{opacity:1}h2:target>a:before{opacity:1;color:#c35}ul,ol{counter-reset:ol;list-style:none;margin-top:1em}li{position:relative}li:before{display:inline-block;margin-left:-1em;width:1em;position:absolute;top:0}ul>li:before{content:'•';font-weight:bold;transform:scale(1.6);top:-0.15em}ul.affiliate>li:before{content:'$';transform:scale(1)}ol>li:before{content:counter(ol,decimal);counter-increment:ol;font-weight:bold;top:-0.05em}li>p:first-child{display:inline-block;padding-top:0}li>p:first-child + *{margin-top:0}li>ul,li>ol{margin-left:1em}li>ul>li:before{content:"■";transform:scale(0.5);top:-0.05em}table{border-spacing:0;margin-bottom:1em;margin-left:auto;margin-right:auto;text-align:left}th{padding-top:0.4em}th,td{padding-right:1.4em;vertical-align:top}code{font-family:Inconsolata,monospace;word-break:break-word;background-color:rgba(27,31,35,0.07);padding:0.2em}pre>code{background-color:transparent;padding:0}pre{border:1px solid #4568;color:#456;margin-bottom:0.6rem;margin-top:0.2rem;overflow-x:auto;padding:1rem;padding-left:1.4rem;margin-left:-1.4rem;margin-right:-1.4rem;font-size:0.9rem;line-height:1.4rem}pre:hover{overflow-x:auto}::-webkit-scrollbar{background-color:#fffef8}::-webkit-scrollbar-track{background-color:#fffef8}::-webkit-scrollbar-thumb{background-color:#c35}pre::-webkit-scrollbar-thumb{background-color:#fffef8}pre:hover::-webkit-scrollbar-thumb{background-color:#c35}.kw,.cf{color:#07a}.dt,.at{color:#d56}.op{color:#690}.dv,.bn,.fl,.er{color:#905}.ch,.st{color:#d80}.co{color:#789}blockquote{font-style:italic;padding-left:1em;padding-right:1em}sup,sub{vertical-align:baseline;position:relative}sup{top:-0.4em}sub{top:0.4em}#teaser-section{background-color:#c35;color:#f5b2c8}#teaser p:first-child{margin-bottom:0.3em}#teaser a{color:#fff;font-family:Alegreya,serif;line-height:0}#teaser a:after{color:#fff;content:'\a0»'}#teaser>h2{margin-bottom:0.2rem;padding-top:0.5rem}footer{background-color:#234;color:#b4aaaa}#notices{clear:both;text-align:center;padding-top:1.8em;display:block}#profile-links{clear:both;text-align:center;margin-left:2.5em;display:block}footer span{margin-left:0.25em;margin-right:0.25em}@media(min-width:400px){#content,#teaser,#footer{padding-left:2em;padding-right:2em}h1{font-size:2.0em}}@media(min-width:470px){html{font-size:16px}header{margin-left:2.8em;margin-right:2.8em}}@media(min-width:544px){#content,#teaser,#footer{padding-left:2.8em;padding-right:2.8em}li{margin-left:0}}@media(min-width:625px){html{font-size:17px}h1>br{display:block}h2>a:before{width:1.6rem;margin-left:-1.6rem}}@media(min-width:802px){html{font-size:18px}h1{font-size:2.4em}header{margin-top:1.4em}}@media(min-width:1003px){html{font-size:19px}h1{font-size:2.6em}}@media(min-width:1225px){#footer{max-width:42em}footer h2{margin-left:3rem}footer nav{float:left;text-align:right;width:6em;margin-left:-5em}#about{float:right;width:36em;margin-right:3em}}@media(max-width:399px){article li:before{margin-left:-0.5em}}@media(max-width:490px){#breakdot{display:block;height:0;overflow:hidden;width:0}li:before{margin-left:-0.95em}#profile-links{margin-left:0}}@media (-webkit-min-device-pixel-ratio:2),(min-device-pixel-ratio:2),(min-resolution:192dpi){pre{border-width:0.5px}}.dark body,.dark ::-webkit-scrollbar,.dark ::-webkit-scrollbar-track,.dark pre::-webkit-scrollbar-thumb{background-color:#1a2633;color:#eee}.dark h1,.dark h2,.dark h3,.dark h2>a:before{color:#fff}.dark .archive h2{}.dark code{background-color:#eee2}.dark pre{border:1px solid #97a8ba;color:#97a8ba}.dark pre>code{background-color:transparent}.dark a{color:#e05271}.dark hr.hairline{border-bottom:1px solid #e05271}.dark .kw,.dark .cf{color:#07a}.dark .dt,.dark .at{color:#d56}.dark .op{color:#690}.dark .dv,.dark .bn,.dark .fl,.dark .er{color:#e6007e}.dark .ch,.dark .st{color:#d80}.dark .co{color:#789}dark-mode-toggle{position:fixed;top:0;right:0;transform:scale(1.5)}dark-mode-toggle input{outline:none}</style><script async src="https://www.googletagmanager.com/gtag/js?id=UA-126869629-1"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-126869629-1');</script></head><body><article id="content" itemscope><header><h1>A new website!</h1><p><a href="/" class="author">mgsloan</a><br><time datetime="2018-07-27" itemprop="datePublished">2018-07-27</time></p><hr class="hairline"></header><p><span class="run-in">Welcome</span> to my new blog site! I kept around the old blog <a href="/wordpress">as a single page</a>, for posterity.</p><h2 id="how-the-site-generation-works"><a href="#how-the-site-generation-works"></a>How the site generation works</h2><p>I knew I wanted to use static site generation for my blog, and generate simple <abbr>HTML</abbr> that loads fast. Since I'm a big fan of using <a href="https://haskell.org">Haskell</a>, I also had a preference for configuring and extending the site in Haskell. The most obvious answer to this would be the <a href="https://jaspervdj.be/hakyll">hakyll</a> static site generator.</p><p>I didn't want to start from scratch – much more efficient to build off someone else's site! Many hakyll sites publish their source code, and there is a <a href="https://jaspervdj.be/hakyll/examples.html">list of sites using hakyll</a>, so I clicked every single one using Hakyll 4 to see which ones caught my eye.</p><p>I noted down quite a few sites, but one that really caught my eye was <a href="https://ruudvanasseldonk.com/">Ruud van Asseldonk's site</a>. It has a lot of the attributes I was looking for. In particular, it prioritizes simplicity and keeping the download size minimal. It also looks great to me! With the combination of nice typography, the particular shade of red highlights, and the background color, it really reminded me of <a href="https://www.edwardtufte.com/">Tufte's books</a>, which I thoroughly enjoyed.</p><p>So, I took a look at the <a href="https://github.com/ruuda/blog">code for Ruud's site</a>, and was a bit surprised to see that it was using a custom static site generator instead of hakyll. At first, this put me off using it as a basis, but then I realized that it had some nice advantages:</p><ul><li><p><em>Simplicity and changeability</em> – most of the code is pretty straightforward. This makes it easy to modify how it all works. I like having all of the logic in one spot, in the main repository. The main complicated bit is the clever font subsetting, but I don't use that feature.</p></li><li><p><em>Hacker aesthetic</em> – Ruud calls his site generator "homemade". There's the simple appeal of crafting your own site generator to fit your purposes.</p></li><li><p><em>Reliable regeneration</em> – hakyll tries to only regenerate things that need to regenerate. This is a nice feature, but I wonder how it handles the behavior of your code changing? I'm guessing that you need to manually force it to do a rebuild, perhaps by deleting the results. Since Ruud's generator simply regenerates everything, I don't need to think about this. The generator also starts with the most recent post, which is typically the one you are working on. Since the most recent post updates quickly, the overall rebuild speed is not a concern for me.</p></li></ul><p>Due to these reasons, I decided to base my site off of Ruud's design and generator instead of using hakyll. This is not really a criticism of hakyll – I didn't really give it a fair shot. I find this custom site generator approach to be quite nice, though.</p><p>Ruud kindly gave me the go-ahead to base my site off of his. You can check out the <a href="https://github.com/mgsloan/mgsloan-site">code on github</a>. I've tweaked the layout a fair bit, and I'm use <a href="https://fonts.google.com/">google fonts</a> instead of the beautiful and proprietary <a href="https://www.exljbris.com/calluna.html">calluna</a> family of fonts. Particularly due to the fonts, I think <a href="https://ruudvanasseldonk.com/">his site</a> is substantially better looking than mine :-)</p></article><section id="teaser-section"><div id="teaser"><p class="smcp">More words</p><h2><a href="/posts/ghcinception">GHCinception: Running <abbr>GHCi</abbr> in <abbr>GHCi</abbr></a></h2><p>My patches were merged, allowing <abbr>GHC</abbr> to be loaded into <abbr>GHCi</abbr> and run! <a href="/posts/ghcinception" class="smcp">Read</a></p></div></section><footer><div id="footer"><p id="notices" class="smcp"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Copyleft 2018-2020</a> <span id="breakdot">·</span> <a rel="author" href="https://mgsloan.com">Michael G Sloan</a> <span id="breakdot">·</span> <a href="https://github.com/mgsloan/mgsloan-site">Site Code</a> <span id="breakdot">·</span> <a href="/feed.xml">Feed</a></p><p id="profile-links" class="smcp"><a href="https://github.com/mgsloan">GitHub</a> <span id="breakdot">·</span> <a href="https://twitter.com/treetopian">Twitter</a></p></div></footer><dark-mode-toggle></dark-mode-toggle><script type="module" src="/dark-mode-toggle.mjs"></script><script>const toggle = document.querySelector('dark-mode-toggle'); const html = document.documentElement; toggle.addEventListener('colorschemechange', () => { html.classList.toggle('dark', toggle.mode === 'dark'); });</script></body></html>